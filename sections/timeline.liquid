{{ 'component-timeline.css' | asset_url | stylesheet_tag }}

<div class="page-width">
  <div class="timeline__wrap">
    <div class="timeline__section-content">
      {% if section.settings.title != blank %}
      <h2 class="title{% if section.settings.striked-header %} striked-header{% endif %}"><span>{{ section.settings.title | escape }}</span></h2>
      {% endif %}
    </div>
    {% if section.blocks.size > 0 %}
    <div class="timeline__graph">
      <ul class="timeline">
        {%- for block in section.blocks -%}
        <li>
          <div class="{{ block.settings.timeline_direction }}">
            <div class="flag-wrapper">
              <span class="flag">{{ block.settings.title }}</span>
            </div>
            <div class="desc">
              {{ block.settings.description }}
            </div>
          </div>
        </li>
        {%- endfor -%}
      </ul>
    </div>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Timeline",
  "tag": "section",
  "class": "spaced-section timeline",
  "blocks": [
	{
      "name": "Timeline Item",
      "type": "item",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Heading"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description"
        },
        {
          "type": "select",
          "id": "timeline_direction",
          "label": "Vertical alignment",
          "options": [
            {
              "value": "direction-l",
              "label": "Left"
            },
            {
              "value": "direction-r",
              "label": "Right"
            }
          ],
          "default": "direction-l"
        }
      ]
    }
  ],
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Heading"
    },
    {
      "type": "checkbox",
      "id": "striked-header",
      "label": "Apply striked header styling",
      "default": false
    },
    {
      "type": "textarea",
      "id": "content",
      "label": "Content"
    }
  ],
  "presets": [
    {
      "name": "Timeline"
    }
  ]
}
{% endschema %}
